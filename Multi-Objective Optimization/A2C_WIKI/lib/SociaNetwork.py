# -*- coding:utf-8 -*-
import random
import networkx as nx
import pandas as pd
import numpy as np

NODE_NUMBER = 7115
MAX_PATH = 10000
MAX_TIME = 10000
TIME_THRESHOLD = 18

RUMOR_STATUS = 1
CRUMOR_STATUS = 2
SAFE_STATUS = 0
RUMOR_NUMBER = 2148
CRUMOR_NUMBER = 7
#t=0    7个
# R_SOURCES = [10, 200, 40, 600, 8, 456, 855]
#t=1    24个
# R_SOURCES = [8, 10, 40, 200, 456, 600, 855,146, 290, 332, 782, 1054, 1178, 1393, 1501, 1746, 1912, 2214, 2559, 3351, 3460, 3872, 4016, 4577]
#t=2时   73个
# R_SOURCES = [8, 10, 40, 200, 456, 600, 855,146, 290, 332, 782, 1054, 1178, 1393, 1501, 1746, 1912, 2214, 2559, 3351, 3460, 3872, 4016, 4577, 33, 70, 169, 246, 256, 292, 407, 449, 548, 580, 625, 696, 714, 759, 876, 891, 1058, 1067, 1135, 1147, 1150, 1188, 1303, 1321, 1370, 1400, 1425, 1427, 1496, 1617, 1680, 1939, 2027, 2109, 2142, 2234, 2313, 2720, 3049, 3150, 3151, 3315, 3333, 3988, 4082, 4198, 4231, 4656, 6707]
#t=3时   235个
# R_SOURCES = [8, 10, 40, 200, 456, 600, 855,146, 290, 332, 782, 1054, 1178, 1393, 1501, 1746, 1912, 2214, 2559, 3351, 3460, 3872, 4016, 4577,33, 70, 169, 246, 256, 292, 407, 449, 548, 580, 625, 696, 714, 759, 876, 891, 1058, 1067, 1135, 1147, 1150, 1188, 1303, 1321, 1370, 1400, 1425, 1427, 1496, 1617, 1680, 1939, 2027, 2109, 2142, 2234, 2313, 2720, 3049, 3150, 3151, 3315, 3333, 3988, 4082, 4198, 4231, 4656, 6707,5, 12, 21, 46, 52, 116, 125, 136, 144, 150, 203, 223, 238, 257, 281, 286, 293, 294, 389, 431, 462, 494, 561, 594, 646, 662, 685, 702, 724, 737, 758, 799, 829, 847, 893, 899, 926, 945, 954, 972, 1008, 1022, 1032, 1046, 1111, 1117, 1138, 1162, 1189, 1222, 1227, 1261, 1267, 1300, 1302, 1360, 1363, 1374, 1375, 1376, 1401, 1495, 1557, 1571, 1575, 1639, 1648, 1651, 1652, 1671, 1676, 1679, 1701, 1770, 1802, 1811, 1817, 1841, 1902, 2059, 2106, 2111, 2138, 2183, 2215, 2269, 2283, 2303, 2356, 2378, 2442, 2471, 2476, 2532, 2594, 2598, 2620, 2632, 2714, 2715, 2748, 2779, 2780, 2828, 2903, 2962, 2979, 3012, 3086, 3137, 3140, 3152, 3157, 3161, 3245, 3251, 3258, 3307, 3391, 3490, 3498, 3546, 3558, 3681, 3682, 3683, 3704, 3740, 3767, 3830, 3851, 3864, 3903, 4068, 4095, 4124, 4289, 4452, 4457, 4470, 4488, 4552, 4569, 4680, 4746, 4790, 4865, 4909, 4931, 4951, 5204, 5383, 5402, 5427, 5477, 5798, 6017, 6080, 6122, 6248, 6760, 6806]
#t=4时   704个
# R_SOURCES = [8, 10, 40, 200, 456, 600, 855,146, 290, 332, 782, 1054, 1178, 1393, 1501, 1746, 1912, 2214, 2559, 3351, 3460, 3872, 4016, 4577,33, 70, 169, 246, 256, 292, 407, 449, 548, 580, 625, 696, 714, 759, 876, 891, 1058, 1067, 1135, 1147, 1150, 1188, 1303, 1321, 1370, 1400, 1425, 1427, 1496, 1617, 1680, 1939, 2027, 2109, 2142, 2234, 2313, 2720, 3049, 3150, 3151, 3315, 3333, 3988, 4082, 4198, 4231, 4656, 6707,5, 12, 21, 46, 52, 116, 125, 136, 144, 150, 203, 223, 238, 257, 281, 286, 293, 294, 389, 431, 462, 494, 561, 594, 646, 662, 685, 702, 724, 737, 758, 799, 829, 847, 893, 899, 926, 945, 954, 972, 1008, 1022, 1032, 1046, 1111, 1117, 1138, 1162, 1189, 1222, 1227, 1261, 1267, 1300, 1302, 1360, 1363, 1374, 1375, 1376, 1401, 1495, 1557, 1571, 1575, 1639, 1648, 1651, 1652, 1671, 1676, 1679, 1701, 1770, 1802, 1811, 1817, 1841, 1902, 2059, 2106, 2111, 2138, 2183, 2215, 2269, 2283, 2303, 2356, 2378, 2442, 2471, 2476, 2532, 2594, 2598, 2620, 2632, 2714, 2715, 2748, 2779, 2780, 2828, 2903, 2962, 2979, 3012, 3086, 3137, 3140, 3152, 3157, 3161, 3245, 3251, 3258, 3307, 3391, 3490, 3498, 3546, 3558, 3681, 3682, 3683, 3704, 3740, 3767, 3830, 3851, 3864, 3903, 4068, 4095, 4124, 4289, 4452, 4457, 4470, 4488, 4552, 4569, 4680, 4746, 4790, 4865, 4909, 4931, 4951, 5204, 5383, 5402, 5427, 5477, 5798, 6017, 6080, 6122, 6248, 6760, 6806,3, 4, 9, 11, 16, 20, 25, 26, 32, 41, 44, 47, 51, 53, 61, 65, 66, 67, 69, 75, 82, 97, 104, 105, 107, 114, 119, 121, 129, 158, 164, 204, 224, 230, 242, 280, 318, 380, 384, 394, 408, 437, 508, 515, 527, 535, 572, 581, 588, 591, 598, 626, 637, 645, 649, 656, 661, 676, 697, 698, 700, 713, 719, 739, 768, 786, 793, 796, 814, 833, 843, 856, 861, 864, 866, 869, 877, 880, 895, 902, 903, 908, 909, 910, 914, 915, 917, 918, 920, 948, 950, 951, 955, 971, 979, 987, 988, 1030, 1034, 1040, 1051, 1066, 1084, 1090, 1093, 1100, 1101, 1102, 1110, 1133, 1134, 1158, 1174, 1183, 1197, 1199, 1202, 1211, 1214, 1242, 1243, 1247, 1249, 1262, 1264, 1271, 1282, 1301, 1308, 1348, 1354, 1357, 1359, 1365, 1368, 1372, 1380, 1381, 1397, 1426, 1431, 1457, 1460, 1467, 1476, 1479, 1481, 1487, 1505, 1509, 1510, 1550, 1561, 1562, 1570, 1586, 1595, 1602, 1616, 1623, 1641, 1643, 1645, 1656, 1658, 1677, 1694, 1705, 1714, 1731, 1741, 1769, 1772, 1814, 1824, 1835, 1850, 1898, 1901, 1907, 1923, 1926, 1933, 1934, 1947, 1956, 1960, 1962, 1971, 1993, 1996, 2044, 2048, 2056, 2060, 2070, 2073, 2075, 2080, 2089, 2090, 2101, 2102, 2134, 2136, 2137, 2148, 2165, 2173, 2190, 2203, 2204, 2216, 2221, 2244, 2261, 2271, 2273, 2301, 2305, 2308, 2314, 2329, 2340, 2350, 2351, 2367, 2374, 2379, 2383, 2386, 2388, 2410, 2428, 2436, 2438, 2439, 2443, 2451, 2456, 2479, 2480, 2500, 2517, 2521, 2525, 2527, 2540, 2562, 2587, 2600, 2604, 2617, 2636, 2647, 2654, 2677, 2687, 2711, 2716, 2725, 2729, 2745, 2751, 2755, 2761, 2785, 2806, 2827, 2852, 2860, 2871, 2877, 2881, 2888, 2895, 2905, 2907, 2927, 2983, 3001, 3027, 3038, 3040, 3060, 3064, 3110, 3112, 3116, 3153, 3155, 3158, 3160, 3191, 3206, 3208, 3216, 3226, 3233, 3239, 3243, 3254, 3264, 3274, 3287, 3289, 3290, 3314, 3316, 3331, 3338, 3362, 3395, 3415, 3441, 3442, 3443, 3446, 3459, 3465, 3527, 3548, 3549, 3560, 3568, 3571, 3575, 3583, 3585, 3596, 3631, 3637, 3649, 3652, 3655, 3680, 3706, 3748, 3749, 3774, 3782, 3790, 3819, 3845, 3848, 3852, 3860, 3870, 3879, 3894, 3906, 3926, 3929, 3977, 4008, 4035, 4057, 4065, 4066, 4083, 4084, 4096, 4102, 4151, 4176, 4180, 4220, 4225, 4240, 4303, 4311, 4353, 4372, 4373, 4427, 4435, 4437, 4446, 4454, 4458, 4464, 4485, 4486, 4550, 4557, 4612, 4613, 4623, 4639, 4663, 4685, 4688, 4692, 4702, 4715, 4717, 4822, 4845, 4863, 4953, 4956, 5035, 5047, 5051, 5065, 5075, 5078, 5082, 5122, 5133, 5135, 5137, 5139, 5149, 5173, 5230, 5234, 5236, 5239, 5243, 5312, 5335, 5382, 5401, 5435, 5480, 5482, 5488, 5495, 5503, 5521, 5574, 5631, 5634, 5676, 5707, 5740, 5874, 5893, 5896, 5909, 5968, 5969, 5998, 6035, 6047, 6066, 6180, 6187, 6199, 6215, 6335, 6355, 6379, 6510, 6559, 6637, 6724, 6727, 6743, 6746, 6761, 6762, 6763, 6851, 6993, 7021, 7107, 7111]
#t=5时   1422个
# R_SOURCES = [8, 10, 40, 200, 456, 600, 855,146, 290, 332, 782, 1054, 1178, 1393, 1501, 1746, 1912, 2214, 2559, 3351, 3460, 3872, 4016, 4577,33, 70, 169, 246, 256, 292, 407, 449, 548, 580, 625, 696, 714, 759, 876, 891, 1058, 1067, 1135, 1147, 1150, 1188, 1303, 1321, 1370, 1400, 1425, 1427, 1496, 1617, 1680, 1939, 2027, 2109, 2142, 2234, 2313, 2720, 3049, 3150, 3151, 3315, 3333, 3988, 4082, 4198, 4231, 4656, 6707,5, 12, 21, 46, 52, 116, 125, 136, 144, 150, 203, 223, 238, 257, 281, 286, 293, 294, 389, 431, 462, 494, 561, 594, 646, 662, 685, 702, 724, 737, 758, 799, 829, 847, 893, 899, 926, 945, 954, 972, 1008, 1022, 1032, 1046, 1111, 1117, 1138, 1162, 1189, 1222, 1227, 1261, 1267, 1300, 1302, 1360, 1363, 1374, 1375, 1376, 1401, 1495, 1557, 1571, 1575, 1639, 1648, 1651, 1652, 1671, 1676, 1679, 1701, 1770, 1802, 1811, 1817, 1841, 1902, 2059, 2106, 2111, 2138, 2183, 2215, 2269, 2283, 2303, 2356, 2378, 2442, 2471, 2476, 2532, 2594, 2598, 2620, 2632, 2714, 2715, 2748, 2779, 2780, 2828, 2903, 2962, 2979, 3012, 3086, 3137, 3140, 3152, 3157, 3161, 3245, 3251, 3258, 3307, 3391, 3490, 3498, 3546, 3558, 3681, 3682, 3683, 3704, 3740, 3767, 3830, 3851, 3864, 3903, 4068, 4095, 4124, 4289, 4452, 4457, 4470, 4488, 4552, 4569, 4680, 4746, 4790, 4865, 4909, 4931, 4951, 5204, 5383, 5402, 5427, 5477, 5798, 6017, 6080, 6122, 6248, 6760, 6806,3, 4, 9, 11, 16, 20, 25, 26, 32, 41, 44, 47, 51, 53, 61, 65, 66, 67, 69, 75, 82, 97, 104, 105, 107, 114, 119, 121, 129, 158, 164, 204, 224, 230, 242, 280, 318, 380, 384, 394, 408, 437, 508, 515, 527, 535, 572, 581, 588, 591, 598, 626, 637, 645, 649, 656, 661, 676, 697, 698, 700, 713, 719, 739, 768, 786, 793, 796, 814, 833, 843, 856, 861, 864, 866, 869, 877, 880, 895, 902, 903, 908, 909, 910, 914, 915, 917, 918, 920, 948, 950, 951, 955, 971, 979, 987, 988, 1030, 1034, 1040, 1051, 1066, 1084, 1090, 1093, 1100, 1101, 1102, 1110, 1133, 1134, 1158, 1174, 1183, 1197, 1199, 1202, 1211, 1214, 1242, 1243, 1247, 1249, 1262, 1264, 1271, 1282, 1301, 1308, 1348, 1354, 1357, 1359, 1365, 1368, 1372, 1380, 1381, 1397, 1426, 1431, 1457, 1460, 1467, 1476, 1479, 1481, 1487, 1505, 1509, 1510, 1550, 1561, 1562, 1570, 1586, 1595, 1602, 1616, 1623, 1641, 1643, 1645, 1656, 1658, 1677, 1694, 1705, 1714, 1731, 1741, 1769, 1772, 1814, 1824, 1835, 1850, 1898, 1901, 1907, 1923, 1926, 1933, 1934, 1947, 1956, 1960, 1962, 1971, 1993, 1996, 2044, 2048, 2056, 2060, 2070, 2073, 2075, 2080, 2089, 2090, 2101, 2102, 2134, 2136, 2137, 2148, 2165, 2173, 2190, 2203, 2204, 2216, 2221, 2244, 2261, 2271, 2273, 2301, 2305, 2308, 2314, 2329, 2340, 2350, 2351, 2367, 2374, 2379, 2383, 2386, 2388, 2410, 2428, 2436, 2438, 2439, 2443, 2451, 2456, 2479, 2480, 2500, 2517, 2521, 2525, 2527, 2540, 2562, 2587, 2600, 2604, 2617, 2636, 2647, 2654, 2677, 2687, 2711, 2716, 2725, 2729, 2745, 2751, 2755, 2761, 2785, 2806, 2827, 2852, 2860, 2871, 2877, 2881, 2888, 2895, 2905, 2907, 2927, 2983, 3001, 3027, 3038, 3040, 3060, 3064, 3110, 3112, 3116, 3153, 3155, 3158, 3160, 3191, 3206, 3208, 3216, 3226, 3233, 3239, 3243, 3254, 3264, 3274, 3287, 3289, 3290, 3314, 3316, 3331, 3338, 3362, 3395, 3415, 3441, 3442, 3443, 3446, 3459, 3465, 3527, 3548, 3549, 3560, 3568, 3571, 3575, 3583, 3585, 3596, 3631, 3637, 3649, 3652, 3655, 3680, 3706, 3748, 3749, 3774, 3782, 3790, 3819, 3845, 3848, 3852, 3860, 3870, 3879, 3894, 3906, 3926, 3929, 3977, 4008, 4035, 4057, 4065, 4066, 4083, 4084, 4096, 4102, 4151, 4176, 4180, 4220, 4225, 4240, 4303, 4311, 4353, 4372, 4373, 4427, 4435, 4437, 4446, 4454, 4458, 4464, 4485, 4486, 4550, 4557, 4612, 4613, 4623, 4639, 4663, 4685, 4688, 4692, 4702, 4715, 4717, 4822, 4845, 4863, 4953, 4956, 5035, 5047, 5051, 5065, 5075, 5078, 5082, 5122, 5133, 5135, 5137, 5139, 5149, 5173, 5230, 5234, 5236, 5239, 5243, 5312, 5335, 5382, 5401, 5435, 5480, 5482, 5488, 5495, 5503, 5521, 5574, 5631, 5634, 5676, 5707, 5740, 5874, 5893, 5896, 5909, 5968, 5969, 5998, 6035, 6047, 6066, 6180, 6187, 6199, 6215, 6335, 6355, 6379, 6510, 6559, 6637, 6724, 6727, 6743, 6746, 6761, 6762, 6763, 6851, 6993, 7021, 7107, 7111,7, 17, 18, 23, 30, 34, 36, 39, 55, 56, 58, 72, 73, 81, 84, 89, 98, 99, 103, 123, 128, 147, 160, 171, 190, 193, 194, 197, 198, 214, 216, 217, 232, 241, 245, 258, 263, 264, 267, 272, 273, 284, 288, 295, 297, 299, 301, 306, 308, 316, 321, 323, 345, 346, 350, 351, 352, 356, 358, 368, 372, 376, 379, 382, 383, 401, 411, 416, 424, 468, 493, 507, 512, 531, 556, 569, 575, 577, 578, 590, 593, 608, 610, 623, 624, 635, 641, 644, 654, 666, 672, 677, 678, 679, 680, 682, 684, 695, 699, 701, 705, 728, 732, 743, 746, 756, 760, 771, 783, 807, 824, 862, 870, 881, 884, 892, 896, 907, 924, 937, 941, 942, 943, 956, 976, 977, 978, 1009, 1011, 1025, 1028, 1033, 1036, 1038, 1048, 1055, 1056, 1065, 1079, 1085, 1086, 1099, 1103, 1120, 1129, 1142, 1146, 1156, 1180, 1182, 1218, 1240, 1250, 1256, 1265, 1269, 1272, 1273, 1299, 1304, 1312, 1326, 1337, 1349, 1352, 1355, 1364, 1373, 1377, 1378, 1399, 1409, 1417, 1421, 1428, 1433, 1440, 1441, 1442, 1443, 1445, 1447, 1449, 1455, 1458, 1468, 1473, 1477, 1483, 1486, 1500, 1511, 1521, 1523, 1529, 1543, 1549, 1558, 1559, 1567, 1583, 1587, 1589, 1592, 1600, 1612, 1619, 1621, 1625, 1629, 1634, 1636, 1640, 1646, 1674, 1683, 1695, 1697, 1707, 1710, 1716, 1720, 1723, 1733, 1737, 1749, 1800, 1810, 1818, 1826, 1827, 1829, 1836, 1845, 1848, 1909, 1910, 1917, 1927, 1944, 1946, 1948, 1950, 1970, 1983, 2000, 2008, 2013, 2015, 2029, 2030, 2050, 2055, 2064, 2068, 2069, 2072, 2074, 2097, 2098, 2099, 2130, 2133, 2139, 2151, 2152, 2163, 2172, 2177, 2179, 2185, 2193, 2230, 2236, 2240, 2249, 2256, 2272, 2306, 2307, 2337, 2342, 2343, 2348, 2357, 2366, 2377, 2380, 2382, 2387, 2394, 2403, 2405, 2430, 2431, 2440, 2444, 2445, 2447, 2458, 2468, 2469, 2470, 2472, 2482, 2483, 2487, 2490, 2491, 2494, 2506, 2537, 2546, 2547, 2565, 2570, 2571, 2578, 2579, 2581, 2582, 2585, 2593, 2596, 2613, 2619, 2629, 2657, 2659, 2666, 2668, 2673, 2679, 2685, 2691, 2700, 2709, 2712, 2721, 2722, 2723, 2735, 2738, 2743, 2760, 2766, 2767, 2770, 2772, 2773, 2774, 2775, 2777, 2778, 2802, 2813, 2817, 2820, 2823, 2826, 2838, 2854, 2856, 2865, 2874, 2883, 2899, 2918, 2919, 2952, 2954, 2963, 2964, 2968, 2990, 2999, 3008, 3011, 3017, 3028, 3029, 3037, 3051, 3058, 3076, 3089, 3098, 3102, 3122, 3131, 3133, 3144, 3146, 3149, 3154, 3156, 3159, 3167, 3170, 3174, 3195, 3204, 3222, 3229, 3232, 3238, 3241, 3252, 3284, 3304, 3306, 3317, 3322, 3332, 3353, 3425, 3428, 3430, 3447, 3449, 3456, 3457, 3479, 3489, 3500, 3510, 3511, 3512, 3518, 3520, 3522, 3528, 3532, 3533, 3569, 3578, 3588, 3589, 3601, 3609, 3610, 3616, 3620, 3646, 3654, 3658, 3665, 3668, 3674, 3679, 3685, 3686, 3691, 3713, 3714, 3725, 3732, 3738, 3742, 3750, 3755, 3780, 3784, 3786, 3800, 3802, 3807, 3811, 3814, 3820, 3854, 3865, 3884, 3928, 3946, 3957, 3959, 3972, 3975, 3986, 4019, 4022, 4036, 4047, 4050, 4058, 4067, 4073, 4105, 4144, 4169, 4181, 4191, 4192, 4196, 4197, 4236, 4262, 4285, 4315, 4318, 4319, 4337, 4356, 4365, 4384, 4419, 4431, 4432, 4436, 4440, 4453, 4455, 4462, 4478, 4489, 4496, 4502, 4513, 4519, 4526, 4527, 4531, 4543, 4565, 4567, 4571, 4576, 4583, 4586, 4587, 4590, 4606, 4607, 4615, 4624, 4634, 4643, 4672, 4705, 4723, 4727, 4730, 4732, 4734, 4742, 4745, 4783, 4791, 4797, 4800, 4802, 4804, 4828, 4835, 4836, 4837, 4846, 4859, 4866, 4886, 4901, 4908, 4919, 4962, 4977, 4985, 4992, 4997, 4998, 5005, 5031, 5037, 5045, 5069, 5080, 5083, 5099, 5112, 5113, 5129, 5131, 5144, 5147, 5150, 5152, 5155, 5159, 5160, 5182, 5184, 5187, 5191, 5202, 5203, 5215, 5233, 5240, 5274, 5294, 5296, 5302, 5309, 5317, 5339, 5342, 5466, 5469, 5487, 5497, 5500, 5511, 5528, 5542, 5559, 5564, 5565, 5570, 5579, 5591, 5597, 5606, 5620, 5643, 5655, 5658, 5672, 5686, 5694, 5734, 5737, 5738, 5739, 5741, 5745, 5748, 5774, 5775, 5790, 5792, 5793, 5800, 5804, 5806, 5818, 5830, 5831, 5833, 5843, 5879, 5882, 5883, 5923, 5926, 5933, 5937, 6025, 6026, 6032, 6033, 6037, 6042, 6049, 6083, 6095, 6106, 6113, 6152, 6155, 6168, 6169, 6175, 6181, 6194, 6285, 6294, 6296, 6302, 6306, 6310, 6324, 6349, 6388, 6396, 6398, 6405, 6424, 6429, 6437, 6493, 6508, 6537, 6550, 6584, 6586, 6591, 6603, 6636, 6641, 6656, 6711, 6776, 6799, 6804, 6818, 6820, 6863, 6934, 6952, 7024, 7035, 7048, 7050, 7058, 7104, 7105, 7110, 7112]
#t=6时   2148个
R_SOURCES = [8, 10, 40, 200, 456, 600, 855,146, 290, 332, 782, 1054, 1178, 1393, 1501, 1746, 1912, 2214, 2559, 3351, 3460, 3872, 4016, 4577,33, 70, 169, 246, 256, 292, 407, 449, 548, 580, 625, 696, 714, 759, 876, 891, 1058, 1067, 1135, 1147, 1150, 1188, 1303, 1321, 1370, 1400, 1425, 1427, 1496, 1617, 1680, 1939, 2027, 2109, 2142, 2234, 2313, 2720, 3049, 3150, 3151, 3315, 3333, 3988, 4082, 4198, 4231, 4656, 6707,5, 12, 21, 46, 52, 116, 125, 136, 144, 150, 203, 223, 238, 257, 281, 286, 293, 294, 389, 431, 462, 494, 561, 594, 646, 662, 685, 702, 724, 737, 758, 799, 829, 847, 893, 899, 926, 945, 954, 972, 1008, 1022, 1032, 1046, 1111, 1117, 1138, 1162, 1189, 1222, 1227, 1261, 1267, 1300, 1302, 1360, 1363, 1374, 1375, 1376, 1401, 1495, 1557, 1571, 1575, 1639, 1648, 1651, 1652, 1671, 1676, 1679, 1701, 1770, 1802, 1811, 1817, 1841, 1902, 2059, 2106, 2111, 2138, 2183, 2215, 2269, 2283, 2303, 2356, 2378, 2442, 2471, 2476, 2532, 2594, 2598, 2620, 2632, 2714, 2715, 2748, 2779, 2780, 2828, 2903, 2962, 2979, 3012, 3086, 3137, 3140, 3152, 3157, 3161, 3245, 3251, 3258, 3307, 3391, 3490, 3498, 3546, 3558, 3681, 3682, 3683, 3704, 3740, 3767, 3830, 3851, 3864, 3903, 4068, 4095, 4124, 4289, 4452, 4457, 4470, 4488, 4552, 4569, 4680, 4746, 4790, 4865, 4909, 4931, 4951, 5204, 5383, 5402, 5427, 5477, 5798, 6017, 6080, 6122, 6248, 6760, 6806,3, 4, 9, 11, 16, 20, 25, 26, 32, 41, 44, 47, 51, 53, 61, 65, 66, 67, 69, 75, 82, 97, 104, 105, 107, 114, 119, 121, 129, 158, 164, 204, 224, 230, 242, 280, 318, 380, 384, 394, 408, 437, 508, 515, 527, 535, 572, 581, 588, 591, 598, 626, 637, 645, 649, 656, 661, 676, 697, 698, 700, 713, 719, 739, 768, 786, 793, 796, 814, 833, 843, 856, 861, 864, 866, 869, 877, 880, 895, 902, 903, 908, 909, 910, 914, 915, 917, 918, 920, 948, 950, 951, 955, 971, 979, 987, 988, 1030, 1034, 1040, 1051, 1066, 1084, 1090, 1093, 1100, 1101, 1102, 1110, 1133, 1134, 1158, 1174, 1183, 1197, 1199, 1202, 1211, 1214, 1242, 1243, 1247, 1249, 1262, 1264, 1271, 1282, 1301, 1308, 1348, 1354, 1357, 1359, 1365, 1368, 1372, 1380, 1381, 1397, 1426, 1431, 1457, 1460, 1467, 1476, 1479, 1481, 1487, 1505, 1509, 1510, 1550, 1561, 1562, 1570, 1586, 1595, 1602, 1616, 1623, 1641, 1643, 1645, 1656, 1658, 1677, 1694, 1705, 1714, 1731, 1741, 1769, 1772, 1814, 1824, 1835, 1850, 1898, 1901, 1907, 1923, 1926, 1933, 1934, 1947, 1956, 1960, 1962, 1971, 1993, 1996, 2044, 2048, 2056, 2060, 2070, 2073, 2075, 2080, 2089, 2090, 2101, 2102, 2134, 2136, 2137, 2148, 2165, 2173, 2190, 2203, 2204, 2216, 2221, 2244, 2261, 2271, 2273, 2301, 2305, 2308, 2314, 2329, 2340, 2350, 2351, 2367, 2374, 2379, 2383, 2386, 2388, 2410, 2428, 2436, 2438, 2439, 2443, 2451, 2456, 2479, 2480, 2500, 2517, 2521, 2525, 2527, 2540, 2562, 2587, 2600, 2604, 2617, 2636, 2647, 2654, 2677, 2687, 2711, 2716, 2725, 2729, 2745, 2751, 2755, 2761, 2785, 2806, 2827, 2852, 2860, 2871, 2877, 2881, 2888, 2895, 2905, 2907, 2927, 2983, 3001, 3027, 3038, 3040, 3060, 3064, 3110, 3112, 3116, 3153, 3155, 3158, 3160, 3191, 3206, 3208, 3216, 3226, 3233, 3239, 3243, 3254, 3264, 3274, 3287, 3289, 3290, 3314, 3316, 3331, 3338, 3362, 3395, 3415, 3441, 3442, 3443, 3446, 3459, 3465, 3527, 3548, 3549, 3560, 3568, 3571, 3575, 3583, 3585, 3596, 3631, 3637, 3649, 3652, 3655, 3680, 3706, 3748, 3749, 3774, 3782, 3790, 3819, 3845, 3848, 3852, 3860, 3870, 3879, 3894, 3906, 3926, 3929, 3977, 4008, 4035, 4057, 4065, 4066, 4083, 4084, 4096, 4102, 4151, 4176, 4180, 4220, 4225, 4240, 4303, 4311, 4353, 4372, 4373, 4427, 4435, 4437, 4446, 4454, 4458, 4464, 4485, 4486, 4550, 4557, 4612, 4613, 4623, 4639, 4663, 4685, 4688, 4692, 4702, 4715, 4717, 4822, 4845, 4863, 4953, 4956, 5035, 5047, 5051, 5065, 5075, 5078, 5082, 5122, 5133, 5135, 5137, 5139, 5149, 5173, 5230, 5234, 5236, 5239, 5243, 5312, 5335, 5382, 5401, 5435, 5480, 5482, 5488, 5495, 5503, 5521, 5574, 5631, 5634, 5676, 5707, 5740, 5874, 5893, 5896, 5909, 5968, 5969, 5998, 6035, 6047, 6066, 6180, 6187, 6199, 6215, 6335, 6355, 6379, 6510, 6559, 6637, 6724, 6727, 6743, 6746, 6761, 6762, 6763, 6851, 6993, 7021, 7107, 7111,7, 17, 18, 23, 30, 34, 36, 39, 55, 56, 58, 72, 73, 81, 84, 89, 98, 99, 103, 123, 128, 147, 160, 171, 190, 193, 194, 197, 198, 214, 216, 217, 232, 241, 245, 258, 263, 264, 267, 272, 273, 284, 288, 295, 297, 299, 301, 306, 308, 316, 321, 323, 345, 346, 350, 351, 352, 356, 358, 368, 372, 376, 379, 382, 383, 401, 411, 416, 424, 468, 493, 507, 512, 531, 556, 569, 575, 577, 578, 590, 593, 608, 610, 623, 624, 635, 641, 644, 654, 666, 672, 677, 678, 679, 680, 682, 684, 695, 699, 701, 705, 728, 732, 743, 746, 756, 760, 771, 783, 807, 824, 862, 870, 881, 884, 892, 896, 907, 924, 937, 941, 942, 943, 956, 976, 977, 978, 1009, 1011, 1025, 1028, 1033, 1036, 1038, 1048, 1055, 1056, 1065, 1079, 1085, 1086, 1099, 1103, 1120, 1129, 1142, 1146, 1156, 1180, 1182, 1218, 1240, 1250, 1256, 1265, 1269, 1272, 1273, 1299, 1304, 1312, 1326, 1337, 1349, 1352, 1355, 1364, 1373, 1377, 1378, 1399, 1409, 1417, 1421, 1428, 1433, 1440, 1441, 1442, 1443, 1445, 1447, 1449, 1455, 1458, 1468, 1473, 1477, 1483, 1486, 1500, 1511, 1521, 1523, 1529, 1543, 1549, 1558, 1559, 1567, 1583, 1587, 1589, 1592, 1600, 1612, 1619, 1621, 1625, 1629, 1634, 1636, 1640, 1646, 1674, 1683, 1695, 1697, 1707, 1710, 1716, 1720, 1723, 1733, 1737, 1749, 1800, 1810, 1818, 1826, 1827, 1829, 1836, 1845, 1848, 1909, 1910, 1917, 1927, 1944, 1946, 1948, 1950, 1970, 1983, 2000, 2008, 2013, 2015, 2029, 2030, 2050, 2055, 2064, 2068, 2069, 2072, 2074, 2097, 2098, 2099, 2130, 2133, 2139, 2151, 2152, 2163, 2172, 2177, 2179, 2185, 2193, 2230, 2236, 2240, 2249, 2256, 2272, 2306, 2307, 2337, 2342, 2343, 2348, 2357, 2366, 2377, 2380, 2382, 2387, 2394, 2403, 2405, 2430, 2431, 2440, 2444, 2445, 2447, 2458, 2468, 2469, 2470, 2472, 2482, 2483, 2487, 2490, 2491, 2494, 2506, 2537, 2546, 2547, 2565, 2570, 2571, 2578, 2579, 2581, 2582, 2585, 2593, 2596, 2613, 2619, 2629, 2657, 2659, 2666, 2668, 2673, 2679, 2685, 2691, 2700, 2709, 2712, 2721, 2722, 2723, 2735, 2738, 2743, 2760, 2766, 2767, 2770, 2772, 2773, 2774, 2775, 2777, 2778, 2802, 2813, 2817, 2820, 2823, 2826, 2838, 2854, 2856, 2865, 2874, 2883, 2899, 2918, 2919, 2952, 2954, 2963, 2964, 2968, 2990, 2999, 3008, 3011, 3017, 3028, 3029, 3037, 3051, 3058, 3076, 3089, 3098, 3102, 3122, 3131, 3133, 3144, 3146, 3149, 3154, 3156, 3159, 3167, 3170, 3174, 3195, 3204, 3222, 3229, 3232, 3238, 3241, 3252, 3284, 3304, 3306, 3317, 3322, 3332, 3353, 3425, 3428, 3430, 3447, 3449, 3456, 3457, 3479, 3489, 3500, 3510, 3511, 3512, 3518, 3520, 3522, 3528, 3532, 3533, 3569, 3578, 3588, 3589, 3601, 3609, 3610, 3616, 3620, 3646, 3654, 3658, 3665, 3668, 3674, 3679, 3685, 3686, 3691, 3713, 3714, 3725, 3732, 3738, 3742, 3750, 3755, 3780, 3784, 3786, 3800, 3802, 3807, 3811, 3814, 3820, 3854, 3865, 3884, 3928, 3946, 3957, 3959, 3972, 3975, 3986, 4019, 4022, 4036, 4047, 4050, 4058, 4067, 4073, 4105, 4144, 4169, 4181, 4191, 4192, 4196, 4197, 4236, 4262, 4285, 4315, 4318, 4319, 4337, 4356, 4365, 4384, 4419, 4431, 4432, 4436, 4440, 4453, 4455, 4462, 4478, 4489, 4496, 4502, 4513, 4519, 4526, 4527, 4531, 4543, 4565, 4567, 4571, 4576, 4583, 4586, 4587, 4590, 4606, 4607, 4615, 4624, 4634, 4643, 4672, 4705, 4723, 4727, 4730, 4732, 4734, 4742, 4745, 4783, 4791, 4797, 4800, 4802, 4804, 4828, 4835, 4836, 4837, 4846, 4859, 4866, 4886, 4901, 4908, 4919, 4962, 4977, 4985, 4992, 4997, 4998, 5005, 5031, 5037, 5045, 5069, 5080, 5083, 5099, 5112, 5113, 5129, 5131, 5144, 5147, 5150, 5152, 5155, 5159, 5160, 5182, 5184, 5187, 5191, 5202, 5203, 5215, 5233, 5240, 5274, 5294, 5296, 5302, 5309, 5317, 5339, 5342, 5466, 5469, 5487, 5497, 5500, 5511, 5528, 5542, 5559, 5564, 5565, 5570, 5579, 5591, 5597, 5606, 5620, 5643, 5655, 5658, 5672, 5686, 5694, 5734, 5737, 5738, 5739, 5741, 5745, 5748, 5774, 5775, 5790, 5792, 5793, 5800, 5804, 5806, 5818, 5830, 5831, 5833, 5843, 5879, 5882, 5883, 5923, 5926, 5933, 5937, 6025, 6026, 6032, 6033, 6037, 6042, 6049, 6083, 6095, 6106, 6113, 6152, 6155, 6168, 6169, 6175, 6181, 6194, 6285, 6294, 6296, 6302, 6306, 6310, 6324, 6349, 6388, 6396, 6398, 6405, 6424, 6429, 6437, 6493, 6508, 6537, 6550, 6584, 6586, 6591, 6603, 6636, 6641, 6656, 6711, 6776, 6799, 6804, 6818, 6820, 6863, 6934, 6952, 7024, 7035, 7048, 7050, 7058, 7104, 7105, 7110, 7112,1, 6, 14, 24, 29, 31, 43, 48, 62, 76, 87, 90, 101, 122, 132, 153, 162, 163, 167, 173, 174, 188, 192, 205, 215, 218, 219, 237, 244, 247, 251, 255, 260, 304, 307, 310, 314, 317, 324, 328, 334, 349, 355, 357, 361, 362, 367, 381, 403, 404, 422, 466, 484, 497, 501, 504, 514, 523, 528, 532, 549, 555, 563, 565, 579, 583, 587, 601, 602, 603, 606, 607, 611, 615, 616, 636, 643, 658, 660, 669, 681, 687, 723, 729, 736, 750, 753, 766, 770, 772, 774, 778, 785, 806, 812, 820, 821, 822, 836, 837, 838, 846, 859, 860, 868, 872, 882, 889, 898, 900, 919, 928, 934, 953, 957, 960, 967, 1010, 1014, 1037, 1041, 1044, 1053, 1061, 1062, 1064, 1069, 1082, 1107, 1121, 1122, 1137, 1140, 1148, 1164, 1166, 1179, 1191, 1220, 1231, 1232, 1280, 1283, 1289, 1298, 1317, 1325, 1346, 1350, 1361, 1366, 1371, 1384, 1386, 1404, 1413, 1414, 1416, 1418, 1430, 1466, 1469, 1470, 1485, 1488, 1491, 1515, 1518, 1524, 1525, 1532, 1537, 1551, 1576, 1588, 1597, 1601, 1614, 1618, 1624, 1631, 1633, 1635, 1659, 1662, 1663, 1664, 1666, 1678, 1682, 1689, 1727, 1745, 1753, 1755, 1768, 1777, 1792, 1798, 1806, 1807, 1816, 1821, 1831, 1834, 1843, 1853, 1857, 1873, 1905, 1908, 1925, 1929, 1930, 1945, 1949, 1955, 1961, 1964, 1977, 1981, 1982, 1984, 2004, 2020, 2028, 2031, 2042, 2043, 2052, 2087, 2118, 2119, 2140, 2153, 2159, 2166, 2174, 2176, 2184, 2188, 2206, 2239, 2250, 2252, 2274, 2275, 2282, 2287, 2304, 2334, 2335, 2339, 2341, 2360, 2361, 2370, 2376, 2384, 2391, 2393, 2395, 2399, 2404, 2406, 2408, 2432, 2433, 2437, 2454, 2466, 2473, 2485, 2489, 2493, 2499, 2514, 2520, 2535, 2536, 2549, 2557, 2560, 2566, 2572, 2575, 2595, 2616, 2628, 2633, 2638, 2661, 2697, 2702, 2704, 2707, 2727, 2740, 2742, 2746, 2747, 2752, 2753, 2756, 2764, 2776, 2795, 2804, 2831, 2834, 2841, 2844, 2859, 2878, 2882, 2892, 2894, 2901, 2916, 2920, 2928, 2929, 2936, 2958, 2969, 2977, 2978, 2981, 2985, 2987, 2993, 3007, 3021, 3030, 3036, 3039, 3056, 3059, 3084, 3090, 3101, 3111, 3121, 3128, 3141, 3143, 3148, 3166, 3173, 3175, 3176, 3177, 3178, 3207, 3228, 3265, 3272, 3278, 3299, 3303, 3318, 3319, 3321, 3330, 3336, 3352, 3370, 3388, 3393, 3408, 3412, 3414, 3453, 3461, 3462, 3466, 3473, 3483, 3493, 3509, 3536, 3537, 3544, 3547, 3551, 3554, 3565, 3577, 3599, 3617, 3622, 3625, 3629, 3648, 3653, 3656, 3657, 3673, 3703, 3736, 3762, 3765, 3771, 3788, 3801, 3808, 3832, 3840, 3855, 3871, 3877, 3892, 3893, 3914, 3919, 3937, 3965, 3966, 3971, 3973, 3982, 3983, 3985, 3990, 3994, 4001, 4024, 4038, 4055, 4056, 4062, 4071, 4085, 4090, 4106, 4113, 4122, 4135, 4143, 4146, 4152, 4158, 4195, 4223, 4234, 4235, 4247, 4259, 4263, 4275, 4279, 4284, 4288, 4290, 4291, 4304, 4309, 4341, 4344, 4357, 4364, 4380, 4409, 4417, 4418, 4421, 4423, 4439, 4441, 4449, 4467, 4471, 4474, 4482, 4500, 4516, 4546, 4551, 4555, 4580, 4591, 4596, 4604, 4608, 4611, 4614, 4617, 4619, 4620, 4622, 4625, 4632, 4635, 4636, 4684, 4691, 4706, 4710, 4711, 4739, 4740, 4741, 4763, 4787, 4798, 4807, 4811, 4814, 4820, 4831, 4840, 4841, 4851, 4853, 4860, 4868, 4883, 4888, 4906, 4911, 4921, 4927, 4934, 4945, 4958, 4970, 4973, 4980, 4981, 4983, 4986, 4988, 5000, 5002, 5008, 5009, 5012, 5028, 5036, 5038, 5093, 5098, 5110, 5115, 5132, 5138, 5140, 5142, 5143, 5151, 5165, 5169, 5192, 5197, 5209, 5210, 5241, 5254, 5265, 5277, 5284, 5286, 5288, 5297, 5300, 5316, 5322, 5325, 5336, 5351, 5355, 5357, 5362, 5363, 5380, 5431, 5439, 5460, 5475, 5486, 5494, 5498, 5507, 5512, 5519, 5520, 5523, 5531, 5546, 5554, 5557, 5572, 5575, 5583, 5589, 5617, 5622, 5624, 5639, 5641, 5653, 5660, 5665, 5666, 5673, 5688, 5690, 5692, 5693, 5696, 5699, 5711, 5714, 5725, 5754, 5767, 5770, 5772, 5781, 5783, 5785, 5789, 5794, 5812, 5875, 5919, 5921, 5929, 5930, 5932, 5936, 5953, 5983, 5988, 5995, 6002, 6016, 6019, 6052, 6055, 6057, 6058, 6063, 6064, 6084, 6088, 6093, 6094, 6147, 6150, 6154, 6156, 6157, 6160, 6162, 6165, 6177, 6189, 6192, 6193, 6200, 6241, 6242, 6259, 6260, 6283, 6311, 6334, 6357, 6359, 6362, 6369, 6408, 6411, 6413, 6415, 6417, 6420, 6439, 6452, 6462, 6484, 6489, 6499, 6523, 6554, 6558, 6560, 6562, 6578, 6580, 6605, 6606, 6607, 6609, 6611, 6635, 6657, 6672, 6689, 6692, 6698, 6699, 6701, 6712, 6725, 6726, 6741, 6775, 6780, 6790, 6795, 6798, 6808, 6849, 6928, 6929, 6979, 6981, 6986, 7031, 7055, 7096, 7102, 7108, 7109]







data = pd.read_csv('../data/wiki_vote/wiki_vote_matrix.csv')
matrix = np.asarray(data)
print(matrix)
print(len(matrix))
# graph = nx.from_numpy_matrix(matrix)

shortest_path = pd.read_csv('../data/wiki_vote/wiki_vote_shortest_path.csv')
SOURCE_TARGET_PATH = '../data/wiki_vote/wiki_vote_encode.csv'
shortest_path_np = np.asarray(shortest_path)
shortest_path_list = shortest_path_np.tolist()

# matrix = np.asarray(nx.adjacency_matrix(G).todense())
# print(matrix)
# print(nx.number_of_nodes(G))
# G.add_node(1, status='red', time=1)
# print(nx.nodes(G))
# print(G.nodes[0]['status'])
# print(nx.number_of_edges(graph))
# print(nx.edges(graph))

class SocialNetwork:
    def __init__(self):
        self.G = nx.from_numpy_matrix(matrix)
        self.nodes = nx.nodes(self.G)       #图的所有节点
        self.edges = self.get_edges()       #图的所有边
        self.node_number = nx.number_of_nodes(self.G)   #图的节点数
        self.edges_number = nx.number_of_edges(self.G)  #图的边数
        self.initialize_node_state()                    #初始化节点状态
        self.r_sources = self.random_rumor_sources()    #随机生成谣言
        # self.c_sources = [0, 3657, 203, 635, 949]                             #初始谣言集为空
        self.c_sources = []  # 初始谣言集为空

        self.update_node_status(r_sources=self.r_sources, c_sources=self.c_sources)    #更新谣言节点
        self.shortest_path = shortest_path_list

    def get_edges(self):
        '''获取边的信息'''
        data = pd.read_csv(SOURCE_TARGET_PATH)
        edges = np.asarray(data)

        return edges

    '''初始化节点状态'''
    def initialize_node_state(self):
        for i in range(self.node_number):
            self.G.add_node(i, status=SAFE_STATUS, time=MAX_TIME)

    '''修改节点状态'''
    def update_node_status(self, r_sources=[], c_sources=[]):
        for i in range(len(c_sources)):
            self.G.nodes[c_sources[i]]['status'] = CRUMOR_STATUS
            # self.G.nodes[c_sources[i]]['time'] = 0
        for i in range(len(r_sources)):
            self.G.nodes[r_sources[i]]['status'] = RUMOR_STATUS
            # self.G.nodes[r_sources[i]]['time'] = 0

    '''随机产生谣言'''
    def random_rumor_sources(self):
        # num = range(self.node_number)
        # r_sources = random.sample(num, RUMOR_NUMBER)
        # r_sources = [10, 200, 40, 600, 8] #t = 0
        # r_sources = [10, 200, 40, 600, 8, 9, 75, 79, 172, 188, 285, 291, 577, 640, 658] #t = 1  15个
        # r_sources = [10, 200, 40, 600, 8, 9, 75, 79, 172, 188, 285, 291, 577, 640, 658, 25, 67, 98, 103, 113, 122, 169,
        #              185, 186, 199, 201, 212, 224, 231, 232, 258, 271, 277, 304, 322, 323, 325, 332, 341, 342, 599, 628,
        #              632, 643]    #t = 2  44个

        # r_sources = [8, 10, 40, 200, 600, 169, 224, 213, 264, 329, 334, 39, 165, 231, 239, 297, 332, 25, 67, 119, 188, 199, 223,
        #  280, 317, 615, 675, 21, 48, 62, 87, 94, 142, 172, 186, 229, 258, 308, 315, 323, 342, 578, 595]
        # #43个

        # r_sources = [8, 10, 40, 200, 600, 169, 224, 213, 264, 329, 334, 39, 165, 231, 239, 297, 332, 25, 67, 119, 188, 199, 223, 280, 317, 615, 675, 21, 48, 62, 87, 94, 142, 172, 186, 229, 258, 308, 315, 323, 342, 578, 595, 56, 79, 96, 109, 113, 121, 128, 156, 176, 197, 203, 232, 252, 277, 285, 290, 318, 632, 658, 0, 9, 13, 26, 82, 98, 104, 117, 134, 204, 208, 211, 257, 261, 266, 288, 309, 325, 341, 627, 635, 659, 42, 122, 132, 133, 159, 161, 170, 178, 212, 246, 265, 269, 291, 322, 324, 345, 662, 670, 29, 31, 53, 66, 84, 85, 118, 125, 130, 154, 158, 175, 183, 185, 259, 260, 271, 300, 304, 314, 320, 331, 339, 343, 577, 582, 599, 640, 665, 7, 22, 24, 28, 54, 55, 57, 58, 65, 73, 139, 148, 160, 180, 196, 209, 234, 238, 244, 248, 303, 333, 583]
        #154个

        # r_sources = [8, 10, 40, 200, 600, 169, 224, 213, 264, 329, 334, 39, 165, 231, 239, 297, 332,25, 67, 119, 188, 199, 223, 280, 317, 615, 675,21, 48, 62, 87, 94, 142, 172, 186, 229, 258, 308, 315, 323, 342, 578, 595,56, 79, 96, 109, 113, 121, 128, 156, 176, 197, 203, 232, 252, 277, 285, 290, 318, 632, 658,0, 9, 13, 26, 82, 98, 104, 117, 134, 204, 208, 211, 257, 261, 266, 288, 309, 325, 341, 627, 635, 659,42, 122, 132, 133, 159, 161, 170, 178, 212, 246, 265, 269, 291, 322, 324, 345, 662, 670,29, 31, 53, 66, 84, 85, 118, 125, 130, 154, 158, 175, 183, 185, 259, 260, 271, 300, 304, 314, 320, 331, 339, 343, 577, 582, 599, 640, 665,7, 22, 24, 28, 54, 55, 57, 58, 65, 73, 139, 148, 160, 180, 196, 209, 234, 238, 244, 248, 303, 333, 583,1, 19, 23, 30, 33, 101, 149, 168, 189, 214, 249, 268, 284, 295, 311, 313, 346, 414, 643,3, 5, 18, 45, 68, 92, 99, 105, 124, 135, 144, 146, 177, 201, 206, 221, 222, 236, 272, 281, 298, 299, 302, 602, 661, 681,36, 38, 69, 115, 190, 274, 312, 319, 559, 638, 657,14, 20, 27, 41, 59, 72, 75, 100, 123, 136, 163, 242, 245, 340, 404, 419, 526, 558, 576, 593, 673, 678,44, 70, 88, 112, 127, 141, 150, 151, 152, 171, 184, 187, 202, 251, 254, 263, 350, 362, 415, 422, 495, 561, 626, 656, 1357, 1800, 1864, 2068, 2180, 2189, 2451, 2838]
        # #t=15时 264个

        # r_sources = [10, 200, 40, 600, 8, 456, 855]
        r_sources = R_SOURCES

        return r_sources

    def update_crumor_sources(self, c_sources=[]):
        old_sources = self.c_sources + c_sources
        self.c_sources = old_sources
        self.update_node_status(r_sources=self.r_sources, c_sources=self.c_sources)



    '''获得节点状态列表'''
    def get_nodes_states(self):
        nodes_status_list = []
        for i in range(self.node_number):
            nodes_status_list.append(self.G.nodes[i]['status'])
        return nodes_status_list

    '''获得节点感染时间列表'''
    def get_nodes_infect_time(self):
        nodes_infect_time_list = []
        for i in range(self.node_number):
            nodes_infect_time_list.append(self.G.nodes[i]['time'])
        return nodes_infect_time_list

    '''传入谣言、反谣言种子集，然后在社交网络传播'''
    def social_network_communication(self):
        self.initialize_node_state()
        self.update_node_status(self.r_sources, self.c_sources)
        r_time_list = self.get_nodes_infect_time()
        c_time_list = self.get_nodes_infect_time()

        # print('r_time_list={}'.format(r_time_list))
        # print('c_time_list={}'.format(c_time_list))


        r_shortest_path_lists = self.get_shortest_path(self.r_sources)
        c_shortest_path_lists = self.get_shortest_path(self.c_sources)

        # print('r_time_list={}'.format(r_shortest_path_lists))
        # print('c_time_list={}'.format(c_shortest_path_lists))


        # 比较每个源节点到任意节点的感染时间，取最小感染时间
        for shortest_path_list in r_shortest_path_lists:
            # print("0->任何节点{0}".format(shortest_path_list))
            for i in range(self.node_number):
                if (shortest_path_list[i] < r_time_list[i]):
                    r_time_list[i] = shortest_path_list[i]

        for shortest_path_list in c_shortest_path_lists:
            # print("0->任何节点{0}".format(shortest_path_list))
            for i in range(self.node_number):
                if (shortest_path_list[i] < c_time_list[i]):
                    c_time_list[i] = shortest_path_list[i]

        self.update_infected_nodes(r_time_list, c_time_list)



    '''获得感染节点，修改感染状态'''
    def update_infected_nodes(self, r_time_list, c_time_list):
        # print(G.nodes[1])
        # print(type(G.nodes[1]))
        # time_list = []
        for i in range(self.node_number):
            if r_time_list[i] <= c_time_list[i] and r_time_list[i] != MAX_TIME:
                self.G.nodes[i]['status'] = RUMOR_STATUS
                self.G.nodes[i]['time'] = r_time_list[i]
                # time_list.append(r_time_list[i])
            if r_time_list[i] > c_time_list[i] and c_time_list[i] != MAX_TIME:
                self.G.nodes[i]['status'] = CRUMOR_STATUS
                self.G.nodes[i]['time'] = c_time_list[i]
                # time_list.append(c_time_list[i])
            if r_time_list[i] == c_time_list[i] and r_time_list[i] == MAX_TIME:
                self.G.nodes[i]['status'] = SAFE_STATUS
                self.G.nodes[i]['time'] = MAX_TIME
                # time_list.append(MAX_TIME)
        # return time_list

    '''获得单源最短路径，并返回列表'''
    # def get_shortest_path(self, sources):
    #     shortest_path_lists = []
    #     # 获得每个源节点到任意节点的单源最短路径
    #     for i in sources:
    #         one_of_shortest_path = []
    #         for j in range(self.node_number):
    #             try:
    #                 one_of_shortest_path.append(nx.dijkstra_path_length(self.G, i, j))
    #                 # print("{0}->{1}={2}".format(i,j,nx.dijkstra_path_length(G, i, j)))
    #                 # print(nx.dijkstra_path(G,i,j))
    #             except:
    #                 one_of_shortest_path.append(MAX_PATH)
    #                 # print("no path")
    #         shortest_path_lists.append(one_of_shortest_path)
    #     return shortest_path_lists

    def get_shortest_path(self, sources):
        shortest_path_lists = []
        for i in sources:
            shortest_path_lists.append(self.shortest_path[i])
        return shortest_path_lists

    def get_nodes_status_lists(self):
        rumor_nodes_list = []
        crumor_nodes_list = []
        urumor_nodes_list = []
        for i in range(self.node_number):
            if self.G.nodes[i]['status'] == RUMOR_STATUS:
                rumor_nodes_list.append(self.G.nodes[i])
            if self.G.nodes[i]['status'] == CRUMOR_STATUS:
                crumor_nodes_list.append(self.G.nodes[i])
            if self.G.nodes[i]['status'] == SAFE_STATUS:
                urumor_nodes_list.append(self.G.nodes[i])
        return rumor_nodes_list, crumor_nodes_list, urumor_nodes_list